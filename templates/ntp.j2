###################################
##   My NTP configuration file   ##
###################################

driftfile /var/lib/ntp/drift

# Permit time synchronization with our time source
restrict default nomodify notrap nopeer noquery

# Permit all access over the loopback interface.
restrict 127.0.0.1
restrict ::1

# Hosts on local network are less restricted.
#restrict 192.168.1.0 mask 255.255.255.0 nomodify notrap

# Use local servers
{% for srv in ntp_servers.split(',') %}
server {{ srv }} iburst
{% endfor %}

# Enable public key cryptography.
#crypto

includefile /etc/ntp/crypto/pw

# Key file 
keys /etc/ntp/keys

# Specify the key identifiers which are trusted.
#trustedkey 4 8 42

# Specify the key identifier to use with the ntpdc utility.
#requestkey 8

# Specify the key identifier to use with the ntpq utility.
#controlkey 8

# Enable writing of statistics records.
#statistics clockstats cryptostats loopstats peerstats

# Disable the monitoring facility to prevent amplification attacks 
disable monitor
